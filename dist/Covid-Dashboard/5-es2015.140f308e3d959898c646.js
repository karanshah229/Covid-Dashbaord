(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{UhTB:function(t,e,a){"use strict";a.r(e),a.d(e,"PlacesStatsModule",(function(){return j}));var s=a("ofXK"),i=a("tyNb"),n=a("fXoL"),c=a("tk/3");let r=(()=>{class t{constructor(t){this.http=t}getStateDistrictWise(){return this.http.get("https://api.covid19india.org/state_district_wise.json")}}return t.\u0275fac=function(e){return new(e||t)(n.Yb(c.b))},t.\u0275prov=n.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var o=a("m7uK"),b=a("B+r4"),h=a("zAKX"),d=a("3Pt+"),l=a("OzZK"),p=a("RwU8"),u=a("C2AL"),f=a("5vDB"),z=a("LPYB");function g(t,e){if(1&t&&n.Pb(0,"nz-option",7),2&t){const t=e.$implicit,a=e.index,s=n.fc();n.kc("nzLabel",t)("nzValue",s.stateCodes[a])}}let D=(()=>{class t{constructor(t,e,a){this.router=t,this.stateDistrictWise=e,this.timeSeriesStateWise=a,this.stateCodes=[],this.states=[],this.chartOptions={responsive:!0,pan:{enabled:!0,mode:"x"},zoom:{enabled:!0,mode:"x"},animation:{duration:2e3,easing:"easeInOutQuad"}},this.barChartLabels=[],this.highestStateData=[{data:[],label:"Confirmed"},{data:[],label:"Active"},{data:[],label:"Recovered"},{data:[],label:"Deceased"}]}ngOnInit(){this.getData()}getData(){this.stateDistrictWise.getStateDistrictWise().subscribe(t=>{this.stateData=t,Object.values(this.stateData).forEach(t=>this.stateCodes.push(t.statecode)),this.states=Object.keys(this.stateData)}),this.timeSeriesStateWise.getTimeSeriesStateWise().subscribe(t=>{let e=t.statewise.slice(1,t.statewise.length);this.top3_states=[...e].sort((t,e)=>parseInt(e.active)+parseInt(e.confirmed)-(parseInt(t.active)+parseInt(t.confirmed))).slice(0,3),this.top3_states.forEach(t=>{this.highestStateData[0].data.push(t.confirmed),this.highestStateData[1].data.push(t.active),this.highestStateData[2].data.push(t.recovered),this.highestStateData[3].data.push(t.deaths),this.barChartLabels.push(t.state)})})}view_stats(){this.router.navigateByUrl(`/places-stats/${this.state}`)}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(i.f),n.Ob(r),n.Ob(o.a))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-places-stats"]],decls:13,vars:5,consts:[["nz-row",""],["nzShowSearch","","nzAllowClear","","nzPlaceHolder","Select State to View District Statistics",3,"ngModel","ngModelChange"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["nz-button","","nzType","primary",2,"width","9.7%","margin-left","1px",3,"click"],["nz-row","","nzJustify","center"],[2,"display","block","width","60%"],["baseChart","","chartType","bar",3,"datasets","labels","options"],[3,"nzLabel","nzValue"]],template:function(t,e){1&t&&(n.Ub(0,"div",0),n.Ub(1,"nz-select",1),n.cc("ngModelChange",(function(t){return e.state=t})),n.xc(2,g,1,2,"nz-option",2),n.Tb(),n.Ub(3,"button",3),n.cc("click",(function(){return e.view_stats()})),n.zc(4,"View Stats"),n.Tb(),n.Tb(),n.Pb(5,"br"),n.Ub(6,"div",0),n.Ub(7,"h3"),n.zc(8,"Top 3 States with most Cases"),n.Tb(),n.Pb(9,"nz-divider"),n.Tb(),n.Ub(10,"div",4),n.Ub(11,"div",5),n.Pb(12,"canvas",6),n.Tb(),n.Tb()),2&t&&(n.Cb(1),n.kc("ngModel",e.state),n.Cb(1),n.kc("ngForOf",e.states),n.Cb(10),n.kc("datasets",e.highestStateData)("labels",e.barChartLabels)("options",e.chartOptions))},directives:[b.c,h.b,d.f,d.g,s.j,l.a,p.a,u.a,f.a,z.a,h.a],styles:["nz-select[_ngcontent-%COMP%]{width:90%}nz-carousel-content[_ngcontent-%COMP%]{text-align:center;height:160px;line-height:160px;overflow:hidden}"]}),t})();var v=a("mrSG"),w=a("PTRe"),m=a("FwiY"),C=a("rMZv");function y(t,e){1&t&&n.Pb(0,"i",4)}function T(t,e){if(1&t&&(n.Ub(0,"tr"),n.Ub(1,"td"),n.zc(2),n.Tb(),n.Ub(3,"td"),n.zc(4),n.Tb(),n.Ub(5,"td"),n.zc(6),n.Tb(),n.Ub(7,"td"),n.zc(8),n.Tb(),n.Ub(9,"td"),n.zc(10),n.Tb(),n.Ub(11,"td"),n.zc(12),n.Tb(),n.Tb()),2&t){const t=e.$implicit,a=e.index;n.Cb(2),n.Ac(a+1),n.Cb(2),n.Ac(t.districtName),n.Cb(2),n.Ac(t.confirmed),n.Cb(2),n.Ac(t.active),n.Cb(2),n.Ac(t.recovered),n.Cb(2),n.Ac(t.deceased)}}function S(t,e){if(1&t&&(n.Ub(0,"div",5),n.Ub(1,"div",6),n.Ub(2,"nz-table",7,8),n.Ub(4,"thead"),n.Ub(5,"tr"),n.Ub(6,"th"),n.zc(7,"Sr. No."),n.Tb(),n.Ub(8,"th"),n.zc(9,"Disctrict"),n.Tb(),n.Ub(10,"th"),n.zc(11,"Confirmed"),n.Tb(),n.Ub(12,"th"),n.zc(13,"Active"),n.Tb(),n.Ub(14,"th"),n.zc(15,"Recovered"),n.Tb(),n.Ub(16,"th"),n.zc(17,"Deceased"),n.Tb(),n.Tb(),n.Tb(),n.Ub(18,"tbody"),n.xc(19,T,13,6,"tr",9),n.Tb(),n.Tb(),n.Tb(),n.Tb()),2&t){const t=n.qc(3),e=n.fc();n.Cb(2),n.kc("nzPageSize",10)("nzFrontPagination",!0)("nzShowPagination",!0)("nzData",e.stateData)("nzLoading",e.tableLoading)("nzBordered",!0),n.Cb(17),n.kc("ngForOf",t.data)}}const U=[{path:"",component:D},{path:":statecode",component:(()=>{class t{constructor(t,e,a){this.route=t,this.stateDistrictWise=e,this.changeDetectorRef=a,this.tableLoading=!0}ngOnInit(){this.route.paramMap.subscribe(t=>{this.stateCode=t.get("statecode")}),this.showData()}showData(){this.stateDistrictWise.getStateDistrictWise().subscribe(t=>{this.stateData=t,this.stateData=Object.values(this.stateData).filter(t=>t.statecode==this.stateCode),this.stateData=this.stateData[0].districtData,this.districts=Object.keys(this.stateData),this.districtData=Object.values(this.stateData),this.stateData=[];for(let e=0;e<this.districts.length;e++)this.stateData.push(Object.assign({districtName:this.districts[e]},this.districtData[e]));this.stateDataCopy=this.stateData}),this.tableLoading=!1}applyFilter(t){return Object(v.a)(this,void 0,void 0,(function*(){const e=t.target.value.toString();""==e.toLowerCase()?this.stateData=yield this.stateDataCopy:(this.stateData=this.stateDataCopy,this.stateData_filtered=yield this.stateData.filter(t=>t.districtName.toLowerCase().includes(e.toLowerCase())),this.stateData=this.stateData_filtered),this.changeDetectorRef.detectChanges()}))}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(i.a),n.Ob(r),n.Ob(n.h))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-places-stats-place"]],decls:5,vars:2,consts:[[3,"nzPrefix"],["type","text","nz-input","","placeholder","Search your District",3,"keyup"],["suffixIconSearch",""],["nz-row","",4,"ngIf"],["nz-icon","","nzType","search"],["nz-row",""],["nz-col","","nzFlex","3"],["nzSize","middle","nzWidthConfig","fixed",3,"nzPageSize","nzFrontPagination","nzShowPagination","nzData","nzLoading","nzBordered"],["dynamicTable",""],[4,"ngFor","ngForOf"]],template:function(t,e){if(1&t&&(n.Ub(0,"nz-input-group",0),n.Ub(1,"input",1),n.cc("keyup",(function(t){return e.applyFilter(t)})),n.Tb(),n.Tb(),n.xc(2,y,1,0,"ng-template",null,2,n.yc),n.xc(4,S,20,7,"div",3)),2&t){const t=n.qc(3);n.kc("nzPrefix",t),n.Cb(4),n.kc("ngIf",e.stateData)}},directives:[w.c,w.d,w.b,s.k,m.b,u.a,b.c,b.a,C.b,C.f,C.g,C.a,C.e,C.d,s.j],styles:[""]}),t})()}];let O=(()=>{class t{}return t.\u0275mod=n.Mb({type:t}),t.\u0275inj=n.Lb({factory:function(e){return new(e||t)},imports:[[i.i.forChild(U)],i.i]}),t})();var L=a("Jioy"),k=a("Hhmg"),P=a("nLfN");a("FtGj"),a("2Suw"),a("/KA4"),a("XNiG"),a("1G5W"),a("JwMs");let x=(()=>{class t{}return t.\u0275mod=n.Mb({type:t}),t.\u0275inj=n.Lb({factory:function(e){return new(e||t)},imports:[[s.c,P.b]]}),t})(),j=(()=>{class t{}return t.\u0275mod=n.Mb({type:t}),t.\u0275inj=n.Lb({factory:function(e){return new(e||t)},imports:[[s.c,O,C.c,L.a,w.e,k.a,h.c,d.c,l.c,f.b,b.b,x,z.b]]}),t})()}}]);